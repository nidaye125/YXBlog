<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="前端匍匐前进">
    <meta name="keyword"  content="前端">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        less浏览器端的用法 - ......
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> less code more art. </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>......</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <!-- <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li> -->
            <!-- <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>目录</span>
                </a>
            </li> -->
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <!-- <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li> -->
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-前言"><span class="toc-text">1 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-摘要"><span class="toc-text">2 摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-项目中实际使用"><span class="toc-text">4 项目中实际使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-html"><span class="toc-text">4.1 html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-js"><span class="toc-text">4.2 js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-官网上浏览器端的用法"><span class="toc-text">3 官网上浏览器端的用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-官网建议"><span class="toc-text">3.1 官网建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-使用方式"><span class="toc-text">3.2 使用方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-注意事项"><span class="toc-text">3.3 注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-参数解析"><span class="toc-text">3.4  参数解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1-async-重点"><span class="toc-text">3.4.1 async(重点)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-3-env-重点"><span class="toc-text">3.4.3 env(重点)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-9-globalVars-重点"><span class="toc-text">3.4.9 globalVars(重点)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-10-modifyVars-重点"><span class="toc-text">3.4.10 modifyVars(重点)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-dumpLineNumbers"><span class="toc-text">3.4.2 dumpLineNumbers</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-4-errorReporting"><span class="toc-text">3.4.4 errorReporting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-5-fileAsync"><span class="toc-text">3.4.5 fileAsync</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-6-functions"><span class="toc-text">3.4.6 functions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-7-logLevel"><span class="toc-text">3.4.7 logLevel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-8-relativeUrls"><span class="toc-text">3.4.8 relativeUrls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-11-rootpath"><span class="toc-text">3.4.11 rootpath</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-12-useFileCache"><span class="toc-text">3.4.12 useFileCache</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-13-poll"><span class="toc-text">3.4.13 poll</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-参考文档"><span class="toc-text">4 参考文档</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> less code more art. </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        less浏览器端的用法
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-06-26 00:37:13</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h2><p>这里不讲less的用法，也不讲如何使用gulp、webpack编译less生成css文件，而是less的浏览器端用法。<br>目的是为了动态修改css样式</p>
<h2 id="2-摘要"><a href="#2-摘要" class="headerlink" title="2 摘要"></a>2 摘要</h2><p>实现的原理：通过html中使用link引入less文件，使用script引入less.js文件，使用less.modifyVars，动态修改less变量值，从而修改css样式</p>
<p><strong> 用途：实现在线样式定制 </strong></p>
<h2 id="4-项目中实际使用"><a href="#4-项目中实际使用" class="headerlink" title="4 项目中实际使用"></a>4 项目中实际使用</h2><p>原理在section3中有讲到，这里直接先看实际使用。…cdnPath是公司cdn路径，隐私去掉。</p>
<p>在线主题定制功能使用这个了，实现代码如下:</p>
<h3 id="4-1-html"><a href="#4-1-html" class="headerlink" title="4.1 html"></a>4.1 html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"主题定制面板"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"ynpm ynpm-tool yonyou"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Security-Policy"</span> <span class="attr">content</span>=<span class="string">"upgrade-insecure-requests"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">id</span>=<span class="string">"tinper-bee-theme"</span> <span class="attr">href</span>=<span class="string">"...cdnPath/tinper-bee.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>主题定制面板<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"theme-app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- start: 关键的代码在这里 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">id</span>=<span class="string">'color-less'</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>  <span class="attr">href</span>=<span class="string">"...cdnPath/color.less"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.less = &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">        env: <span class="string">'production'</span></span></span><br><span class="line"><span class="undefined">      &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.2/less.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- end: 关键的代码在这里 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>关键点有两个： color.less的生成和调用window.less.modifyVars 修改color.less中的使用到的参数。color.less的内容在Less(2)中讲解</p>
</blockquote>
<p>注意</p>
<ul>
<li>link的 rel=”stylesheet/less”</li>
<li>两个script</li>
</ul>
<h3 id="4-2-js"><a href="#4-2-js" class="headerlink" title="4.2 js"></a>4.2 js</h3><p>动态修改css样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">window</span>.less.modifyVars(</span><br><span class="line">        <span class="keyword">this</span>.lessChangeStyle</span><br><span class="line">      )</span><br><span class="line">        .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'change success'</span>) &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">`Failed to update theme`</span>, error);</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>
<p> this.lessChangeStyle的格式</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;<span class="attr">"@primary-color"</span>:<span class="string">"#e1bee7"</span>,</span><br><span class="line"><span class="attr">"@border-radius"</span>:<span class="string">"10px"</span>,</span><br><span class="line"><span class="attr">"@border-color"</span>:<span class="string">"#c62828"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-官网上浏览器端的用法"><a href="#3-官网上浏览器端的用法" class="headerlink" title="3 官网上浏览器端的用法"></a>3 官网上浏览器端的用法</h2><h3 id="3-1-官网建议"><a href="#3-1-官网建议" class="headerlink" title="3.1 官网建议"></a>3.1 官网建议</h3><p>这部分的资料来自于<a href="http://lesscss.cn/" target="_blank" rel="noopener">less中文网</a>-浏览器端用法。</p>
<blockquote>
<p>Using less.js in the browser is great for development, but it’s not recommended for production</p>
<p>最好在development模式下使用less.js，不推荐在production模式使用</p>
</blockquote>
<p>很可惜，为了实现动态修改css样式，这个功能需要在production下使用。<br>让我们看下官网解释为什么不推荐在production模式下使用less.js<br><a href="http://lesscss.cn/usage/#using-less-in-the-browser" target="_blank" rel="noopener">不推荐理由</a></p>
<blockquote>
<p>We recommend using less in the browser only for development or when you need to dynamically compile less and cannot do it serverside. This is because less is a large javascript file and compiling less before the user can see the page means a delay for the user. In addition, consider that mobile devices will compile slower. For development consider if using a watcher and live reload (e.g. with grunt or gulp) would be better suited.</p>
<p>我们推荐仅在development模式下或者在服务器端不能动态编译less文件的时候需要动态编译less文件的情况下使用less。因为less是一个大体积js文件，编译less需要一定时间，因此给用户造成延迟。另外在移动端，这个时间会需要更久。在development模式下考虑使用watcher或着grunt、gulp等工具的重加载。</p>
</blockquote>
<p>很显然，我们的需求动态生成css样式满足第二点，因此请使用less。</p>
<p>在渲染HTML页面时，less文件需要编译成css文件。我们可以有很多种方法。在服务器端，如Node.js，我们有专门的less编译模块。如果是在客户端，需要从LESS官网下载less.js文件，然后在HTML页面中引入。</p>
<h3 id="3-2-使用方式"><a href="#3-2-使用方式" class="headerlink" title="3.2 使用方式"></a>3.2 使用方式</h3><ul>
<li>To start off, link your .less stylesheets with the rel attribute set to “stylesheet/less”:</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"styles.less"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Next, download less.js and include it in a <script></script> tag in the <head> element of your page:</head></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"less.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>options</li>
</ul>
<p>你可以引入<code>&lt;script src=&quot;less.js&quot;&gt;&lt;/script&gt;</code>之前通过创建一个全局less对象的方式来指定参数，<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    less = &#123;</span></span><br><span class="line"><span class="actionscript">        env: <span class="string">"development"</span>,</span></span><br><span class="line"><span class="undefined">        logLevel: 2,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">        fileAsync: <span class="literal">false</span>,</span></span><br><span class="line"><span class="undefined">        poll: 1000,</span></span><br><span class="line"><span class="undefined">        functions: &#123;&#125;,</span></span><br><span class="line"><span class="actionscript">        dumpLineNumbers: <span class="string">"comments"</span>,</span></span><br><span class="line"><span class="actionscript">        relativeUrls: <span class="literal">false</span>,</span></span><br><span class="line"><span class="undefined">        globalVars: &#123;</span></span><br><span class="line"><span class="actionscript">            var1: <span class="string">'"string value"'</span>,</span></span><br><span class="line"><span class="actionscript">            var2: <span class="string">'regular value'</span></span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="actionscript">        rootpath: <span class="string">":/a.com/"</span></span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>但是这影响所有初始链接标记。你也可以在指定的脚本标签的增加选项，如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"less.js"</span> <span class="attr">data-env</span>=<span class="string">"development"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>或者，你也可以在链接配置参数覆盖某些选项，如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">data-dump-line-numbers</span>=<span class="string">"all"</span> <span class="attr">data-global-vars</span>=<span class="string">'&#123; myvar: "#ddffee", mystr: "\"quoted\"" &#125;'</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"less/styles.less"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>注意：</p>
<ol>
<li>以上三种配置参数的优先级为：link标签的&gt;script标签&gt;全局对象</li>
<li>对象属性名称不驼峰 (e.g logLevel -&gt; data-log-level)</li>
<li>link标签的配置只和时间选项有关，其他不起作用(e.g verbose, logLevel … are not supported）</li>
</ol>
</blockquote>
<h3 id="3-3-注意事项"><a href="#3-3-注意事项" class="headerlink" title="3.3 注意事项"></a>3.3 注意事项</h3><ol>
<li>确保包涵.less样式表在less.js脚本之前</li>
<li>当你引入多个.less样式表时，它们都是独立编译的。所以，在每个文件中定义的变量、混合、命名空间都不会被其它的文件共享。</li>
<li>Due to the same origin policy of browsers loading external resources requires enabling CORS.同源策略，小心跨域问题</li>
</ol>
<h3 id="3-4-参数解析"><a href="#3-4-参数解析" class="headerlink" title="3.4  参数解析"></a>3.4  参数解析</h3><h4 id="3-4-1-async-重点"><a href="#3-4-1-async-重点" class="headerlink" title="3.4.1 async(重点)"></a>3.4.1 async(重点)</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Type:</span> <span class="string">Boolean</span></span><br><span class="line"><span class="attr">Default:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>Whether to request the import files with the async option or not. See fileAsync.<br>是否异步加载重要文件</p>
<h4 id="3-4-3-env-重点"><a href="#3-4-3-env-重点" class="headerlink" title="3.4.3 env(重点)"></a>3.4.3 env(重点)</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Type: String Default: depends on<span class="built_in"> page </span>URL</span><br></pre></td></tr></table></figure>
<p>运行环境，如果是production，你的css文件将被缓存到本地并且信息不会输出到控制台。如果url以file://开头或者在你本地或者没有标准的端口，这都将被认为是development模式。<br>例如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less = &#123; <span class="attr">env</span>: <span class="string">'production'</span> &#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="3-4-9-globalVars-重点"><a href="#3-4-9-globalVars-重点" class="headerlink" title="3.4.9 globalVars(重点)"></a>3.4.9 globalVars(重点)</h4><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Type</span>: <span class="keyword">Object</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Default</span>: undefined</span><br></pre></td></tr></table></figure>
<p>全局变量列表注入代码。“字符串”类型的变量必须显式地包含引号。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less.globalVars = &#123; <span class="attr">myvar</span>: <span class="string">"#ddffee"</span>, <span class="attr">mystr</span>: <span class="string">"\"quoted\""</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>This option defines a variable that can be referenced by the file. Effectively the declaration is put at the top of your base Less file, meaning it can be used but it also can be overridden if this variable is defined in the file.(翻译：这个选项定义了一个可以被文件引用的变量。这个变量也可以在文件中重新定义。)</p>
<h4 id="3-4-10-modifyVars-重点"><a href="#3-4-10-modifyVars-重点" class="headerlink" title="3.4.10 modifyVars(重点)"></a>3.4.10 modifyVars(重点)</h4><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Type</span>: <span class="keyword">Object</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Default</span>: undefined</span><br></pre></td></tr></table></figure>
<p>Same format as globalVars.</p>
<p>As opposed to the globalVars option, this puts the declaration at the end of your base file, meaning it will override anything defined in your Less file.(翻译：与 globalVars参数含义相反,它将会在你文件最后定义，这意味着它将重写你在文件定义的变量)</p>
<h4 id="3-4-2-dumpLineNumbers"><a href="#3-4-2-dumpLineNumbers" class="headerlink" title="3.4.2 dumpLineNumbers"></a>3.4.2 dumpLineNumbers</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Type:</span> String <span class="string">Options:</span> <span class="string">''</span>| <span class="string">'comments'</span>|<span class="string">'mediaquery'</span>|<span class="string">'all'</span> <span class="string">Default:</span> <span class="string">''</span></span><br></pre></td></tr></table></figure>
<p>如果设置了，这增加了源代码行信息输出的CSS文件。这有助于您调试，分析其中一个特定的规则是从哪里来的。<br>comments 选项用于输出user-understandable内容,<br>mediaquery 选项用于使用火狐插件解析css文件信息.</p>
<p>在未来我们希望这个选项被sourcemaps取代。</p>
<h4 id="3-4-4-errorReporting"><a href="#3-4-4-errorReporting" class="headerlink" title="3.4.4 errorReporting"></a>3.4.4 errorReporting</h4><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Type</span>: String</span><br><span class="line"></span><br><span class="line"><span class="attribute">Options</span>: html|console|function</span><br><span class="line"></span><br><span class="line"><span class="attribute">Default</span>: html</span><br></pre></td></tr></table></figure>
<p>设置编译失败时错误报告的方法。</p>
<h4 id="3-4-5-fileAsync"><a href="#3-4-5-fileAsync" class="headerlink" title="3.4.5 fileAsync"></a>3.4.5 fileAsync</h4><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Type</span>: Boolean</span><br><span class="line"></span><br><span class="line"><span class="attribute">Default</span>: false</span><br></pre></td></tr></table></figure>
<p>当以file协议访问页面，是否异步引入文件</p>
<h4 id="3-4-6-functions"><a href="#3-4-6-functions" class="headerlink" title="3.4.6 functions"></a>3.4.6 functions</h4><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Type</span>: <span class="keyword">object</span></span><br></pre></td></tr></table></figure>
<p>用户自定义函数<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">e</span><span class="selector-class">.g</span>.</span><br><span class="line"></span><br><span class="line">less = &#123;</span><br><span class="line">    <span class="attribute">functions</span>: &#123;</span><br><span class="line">        <span class="attribute">myfunc</span>: function() &#123;</span><br><span class="line">            return new(less.tree.Dimension)(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>可以像Less函数一样使用它。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my-class</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="built_in">unit</span>(myfunc(), px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="3-4-7-logLevel"><a href="#3-4-7-logLevel" class="headerlink" title="3.4.7 logLevel"></a>3.4.7 logLevel</h4><p>Type: Number</p>
<p>Default: 2</p>
<p>在控制台输出日志的数量。如果是production环境，将不会输出任何信息。<br>2 - Information and errors1 - Errors0 - Nothing</p>
<h4 id="3-4-8-relativeUrls"><a href="#3-4-8-relativeUrls" class="headerlink" title="3.4.8 relativeUrls"></a>3.4.8 relativeUrls</h4><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Type</span>: Boolean</span><br><span class="line"></span><br><span class="line"><span class="attribute">Default</span>: false</span><br></pre></td></tr></table></figure>
<p>使用相对路劲。如果设置FALSE，则url是相对根目录文件。</p>
<h4 id="3-4-11-rootpath"><a href="#3-4-11-rootpath" class="headerlink" title="3.4.11 rootpath"></a>3.4.11 rootpath</h4><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Type</span>: String</span><br><span class="line"></span><br><span class="line"><span class="attribute">Default</span>: false</span><br></pre></td></tr></table></figure>
<p>设置根目录，所有的Less文件都会以这个目录开始。</p>
<h4 id="3-4-12-useFileCache"><a href="#3-4-12-useFileCache" class="headerlink" title="3.4.12 useFileCache"></a>3.4.12 useFileCache</h4><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Type</span>: Boolean</span><br><span class="line"></span><br><span class="line"><span class="attribute">Default</span>: true (previously false in before v2)</span><br></pre></td></tr></table></figure>
<h4 id="3-4-13-poll"><a href="#3-4-13-poll" class="headerlink" title="3.4.13 poll"></a>3.4.13 poll</h4><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Type</span>: <span class="keyword">Integer</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Default</span>: <span class="number">1000</span></span><br></pre></td></tr></table></figure>
<p>在观察模式下，测试的时间。</p>
<p>是否要使用每个会话文件缓存。缓存文件可以使用modifyVars，并且它不会再次检索所有文件。如果您使用观察模式或调用刷新加载设置为true,那么运行之前缓存将被清除。</p>
<h2 id="4-参考文档"><a href="#4-参考文档" class="headerlink" title="4 参考文档"></a>4 参考文档</h2><p><a href="https://www.cnblogs.com/xiyangbaixue/p/4128075.html" target="_blank" rel="noopener">浏览器端Less - 夕阳白雪 - 博客园</a></p>
<p><a href="https://www.cnblogs.com/landeanfen/p/6047031.html#_label0" target="_blank" rel="noopener">CSS系列——前端进阶之路：初涉Less</a></p>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
