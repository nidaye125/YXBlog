{"code":"!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&o&&\"string\"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,\"a\",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([function(e,t,o){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.combine=function(e,t){var o=!1===/\\/$/.test(e)&&!1===/^\\//.test(t)?\"/\":\"\";return Array.prototype.slice.call(arguments,0).join(o)},t.convertProtocol=t.parentsUntil=t.getMultiplication=t.getRoundValue=t.getFormatValue=t.getPredicateValue=t.proxy=t.rebuildTreeData=t.uniformProxy=t.auth=t.genAction=t.doFetch=t.catchException=t.toJSON=t.genFetchOptions=void 0;var o=function(e,t,o){var n=t,r=o;return void 0===o&&(r=t,n={\"content-type\":\"application/json\"}),{method:e,headers:n,body:JSON.stringify(r),credentials:\"include\"}};t.genFetchOptions=o;var n=function(t){return 200===t.status?t.text().then(function(e){try{return 65279===e.charCodeAt(0)&&(e=e.slice(1)),JSON.parse(e)}catch(n){var o=[n.message,e,\"(\"+t.url+\")\"];return{code:500,message:\"接口返回格式不是application/json格式：\".concat(o.join(\"\\r\\n\"))}}}):t.text().then(function(o){try{return JSON.parse(o)}catch(r){var n=[t.statusText,o,\"(\"+t.url+\")\"];return{code:e.env.__CLIENT__?t.status:500,message:n.join(\"\\r\\n\")}}})};t.toJSON=n;var r=function(e){var t=e.toString();return console.error(t),{code:500,message:\"网络异常\"}};t.catchException=r,t.doFetch=function(e){var t=o(\"get\");return fetch(e,t).then(n,r).then(function(e){return{code:200,data:e}})},t.genAction=function(e,t){return{type:e,payload:t}},t.auth=function(e){return 900===e.code?void cb.route.redirectLoginPage():e},t.uniformProxy=function(e){var t=e.method&&e.method.trim().toLocaleUpperCase()||\"GET\",o=e.headers||{\"Content-Type\":\"application/json;charset=utf-8\"},i=\"include\",a=e.url,c=[];if(\"GET\"===t||\"DELETE\"===t)c.push(a),c.push({method:t,headers:o,credentials:i});else if(\"POST\"===t||\"PUT\"===t){var l=JSON.stringify(e.params);c.push(a),c.push({method:t,headers:o,body:l,credentials:i})}return fetch.apply(null,c).then(n,r)},t.rebuildTreeData=function e(t,o,n){t.forEach(function(t){t.children?(\"SJ99\"===t.code&&(t.cols=2,t.children=t.children.slice(0,20)),e(t.children,o,n)):(t.disabled=!t.viewType,t.isShopRelated?n.push(t):o.push(t))})};t.proxy=function(e){if(\"xhr\"===cb.rest.mode||e.options&&e.options.jsonp)return function(e){var t=e.url,o=e.method,n=e.options,r=e.params,i=cb.rest.DynamicProxy.create({fetch:{url:t,method:o,options:n}});return new Promise(function(e){i.fetch(r,function(t,o){e(t||{code:200,data:o})})})}(e);var t=e.crossDomain?\"cors\":null,o=e.method&&e.method.trim().toLocaleUpperCase()||\"GET\",i=e.headers||e.crossDomain?{}:{\"Content-Type\":\"application/json;charset=utf-8\"},a=e.crossDomain?null:\"include\",c=cb.rest._getUrl(e.url,e.options),l=[];if(\"GET\"===o||\"DELETE\"===o)c=cb.rest._appendUrl(c,e.params),l.push(c),l.push({method:o,mode:t,headers:i,credentials:a});else if(\"POST\"===o||\"PUT\"===o){var s=JSON.stringify(e.params);l.push(c),l.push({method:o,mode:t,headers:i,body:s,credentials:a})}return cb.utils.loading(!0),fetch.apply(null,l).then(n,r).then(function(e){return cb.utils.loading(!1),900===e.code?void cb.route.redirectLoginPage():e})};var i=function(e){var t=/<%.*?%>/g,o=e.match(t);if(!o)return e;var n={},r=!0;return o.forEach(function(e){var t=e.substring(2,e.length-2).split(\".\");if(2===t.length){var o=cb.rest.AppContext[t[0]];n[e]=o&&(cb.utils.isEmpty(o[t[1]])?\"\":o[t[1]])}else if(3===t.length&&\"option\"===t[1]){var i=cb.rest.AppContext.getOptionValue(t[2],null,t[0]);n[e]=cb.utils.isEmpty(i)?\"\":i}else r=!1}),r?e.replace(t,function(e){return n[e]}):e};t.getPredicateValue=i,t.getFormatValue=function(e,t){var o=e,n=null,r=null;return!cb.utils.isEmpty(e)&&t&&(t.before&&(o=(n=i(t.before))+o),t.after&&(o+=r=i(t.after))),{showValue:o,prefix:n,suffix:r}},t.getRoundValue=function(e,t){if(cb.utils.isEmpty(t))return e;var o=Math.pow(10,t),n=Math.round(Math.abs(e)*o)/o;return 0>e&&(n=-n),n.toFixed(t)},t.getMultiplication=function(e,t,o){e=parseFloat(e),t=parseFloat(t);var n=e.toString().split(\".\"),r=t.toString().split(\".\"),i=1<n.length?n[1].length:0,a=1<r.length?r[1].length:0,c=0;return\"Multiplication\"===o?(c=i+a,parseFloat((e*t).toFixed(c))):\"add\"===o?(c=i>=a?i:a,parseFloat((e+t).toFixed(c))):\"subduction\"===o?(c=i>=a?i:a,parseFloat((e-t).toFixed(c))):void 0},t.parentsUntil=function(e,t,o){if(t){t=function(e,t){var o=t||document;return/\\./.test(e)?(e=e.replace(\".\",\"\"),e=o.getElementsByClassName(e)):/#/.test(e)?(e=e.replace(\"#\",\"\"),e=o.getElementById(e)):e=o.getElementsByTagName(e),e}(t);for(var n=[];9!==e.nodeType;){var r=o?e:e.parentNode;if(0<=[].indexOf.call(t,r)||r===t)break;e=e.parentNode,n.push(e)}return n.pop()}return null},t.convertProtocol=function(t){var o=cb.utils.getCookie(\"themeType\"),n=e.env.__PROTOCOL__;if(o)switch(console.log(\"〖当前租户类型〗：\",cb.utils.getCookie(\"themeType\")),console.log(\"〖当前系统客户端类型〗：\",e.env.__THEMETYPE__),console.log(\"〖客户端原始协议类型〗：\",n),o){case\"ncc\":\"ys\"==e.env.__PROTOCOL__&&function e(t){if(!t.containers)return t;for(var o=0;o<t.containers.length;o++){switch(t.containers[o].cControlType.toLocaleLowerCase()){case\"listheader\":t.containers[o].containers&&t.containers[o].containers.map(function(e){\"Toolbar\"==e.cControlType&&(e.cControlType=\"ListPageHeader\",e.containers=[{groupId:176991,parentId:44221,cName:\"toolbar_right\",iOrder:0,cDataSourceName:\"Toolbar\",cControlType:\"Toolbar\",cGroupCode:\"toolbar_right\",cAlign:\"right\",iCols:0,controls:[],key:\"ContainerToolbartoolbar_right\",parentKey:\"Container44221\"},{groupId:176989,parentId:44221,cName:\"toolbar_left\",iOrder:0,cDataSourceName:\"Toolbar\",cControlType:\"Toolbar\",cGroupCode:\"toolbar_left\",cAlign:\"left\",iCols:0,controls:[{icon:\"jichudanganlei5\",cItemName:\"pageIcon\",cControlType:\"pageIcon\",iOrder:1,iStyle:0,enterDirection:0,key:\"Control.ToolbarItem.176989\"},{cItemName:\"pageTitle\",cControlType:\"pageTitle\",iOrder:2,iStyle:0,enterDirection:0,key:\"Control.ToolbarItem.176990\"}],key:\"ContainerToolbartoolbar_left\",parentKey:\"Container44221\"}],e.containers[0].controls=e.controls,delete e.controls)});break;case\"cardheader\":t.containers[o].containers.map(function(e){\"Toolbar\"==e.cControlType&&(\"left\"==e.cAlign||\"top\"==e.cAlign)&&(e.controls=[{icon:\"left\",cItemName:\"btnAbandonBrowst\",cCaption:\"返回\",cShowCaption:\"返回\",cParameter:'{\"className\":\"bill_toolbar-btnAbandonBrowse\"}',cControlType:\"Button\",iOrder:1,iStyle:2,enterDirection:0,key:\"Control.ToolbarItem.176621\"},{icon:\"jichudanganlei5\",cItemName:\"pageIcon\",cControlType:\"pageIcon\",iOrder:2,iStyle:0,enterDirection:0,key:\"Control.ToolbarItem.176622\"},{cItemName:\"pageTitle\",cControlType:\"pageTitle\",iOrder:3,iStyle:0,enterDirection:0,key:\"Control.ToolbarItem.176623\"}]),\"right\"==e.cAlign&&t.containers.map(function(t){\"Toolbar\"==t.cControlType&&\"bottom\"==t.cAlign&&(e.controls=t.controls.concat(e.controls),delete t.controls,t.cStyle={})})});break;case\"toolbar\":t.containers[o].cAlign}console.log(t.containers[o].cControlType,t.containers[o]),e(t.containers[o])}}(t);break;case\"ys\":\"ncc\"==e.env.__PROTOCOL__&&function e(t){if(!t.containers)return t;for(var o=function(o){switch(t.containers[o].cControlType.toLocaleLowerCase()){case\"listpageheader\":t.containers[o].containers&&t.containers[o].containers.map(function(e){\"right\"==e.cAlign&&(t.containers[o].controls=e.controls)}),t.containers[o].cControlType=\"Toolbar\",delete t.containers[o].containers;break;case\"cardheader\":t.containers[o].containers.map(function(e){if(\"Toolbar\"==e.cControlType&&\"left\"==e.cAlign&&(delete e.controls,console.log(\"curr\",e),e.cAlign=\"top\"),\"Toolbar\"==e.cControlType&&\"right\"==e.cAlign){var o=[];e.controls.map(function(e){(\"btnSave\"==e.cItemName||\"btnSaveAndAdd\"==e.cItemName||\"btnAbandon\"==e.cItemName)&&(console.log(\"-------item\",e),o.push(JSON.parse(JSON.stringify(e))),e.cControlType=\"spliter\")}),t.containers.push({groupId:1139801683,parentId:2483263,cName:\"footertoolbar_edit\",iOrder:50,cDataSourceName:\"Toolbar\",cControlType:\"Toolbar\",cGroupCode:\"footertoolbar_edit\",cAlign:\"bottom\",iCols:0,cStyle:'{\"classname\":\"btn-group-bottom bottom-toolbar\"}',key:\"ContainerToolbarfootertoolbar_edit\",parentKey:\"Container2483263\",controls:o}),t.containers.push({groupId:2483264,parentId:2483263,cName:\"收款期初表头\",iOrder:10,bMain:!0,cCode:\"arap_receivebill_init\",cDataSourceName:\"arap.receivebill.ReceiveBill\",cControlType:\"Header\",cGroupCode:\"arap_receivebill_init_head_edit\",cAlign:\"top\",iCols:3})}})}console.log(t.containers[o].cControlType,t.containers[o]),e(t.containers[o])},n=0;n<t.containers.length;n++)o(n)}(t)}}}).call(this,o(2))},function(e,t,o){\"use strict\";o.r(t);var n=o(0);o.n(n);console.log({uniformProxy:n.uniformProxy})},function(e){function t(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function n(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(){f&&p&&(f=!1,p.length?d=p.concat(d):h=-1,d.length&&i())}function i(){if(!f){var e=n(r);f=!0;for(var t=d.length;t;){for(p=d,d=[];++h<t;)p&&p[h].run();h=-1,t=d.length}p=null,f=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function c(){}var l,s,u=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{s=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){s=o}}();var p,d=[],f=!1,h=-1;u.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];d.push(new a(e,t)),1!==d.length||f||n(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},u.title=\"browser\",u.browser=!0,u.env={},u.argv=[],u.version=\"\",u.versions={},u.on=c,u.addListener=c,u.once=c,u.off=c,u.removeListener=c,u.removeAllListeners=c,u.emit=c,u.prependListener=c,u.prependOnceListener=c,u.listeners=function(){return[]},u.binding=function(){throw new Error(\"process.binding is not supported\")},u.cwd=function(){return\"/\"},u.chdir=function(){throw new Error(\"process.chdir is not supported\")},u.umask=function(){return 0}}]);","extractedComments":[]}