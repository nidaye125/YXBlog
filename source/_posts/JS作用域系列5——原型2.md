---
title: JS作用域系列5——原型2
date: 2018-09-28 15:55:59
tags: JS
categories: 总结
---

_proto_是什么含义，以及_proto_与prototype是什么关系，下面就是解释

<!--more-->

## 1 _proto_
### 1.1 _proto_指向原型对象
JS 在创建对象（不论是普通对象还是函数对象）的时候，都有一个叫做__proto__ 的内置属性，**用于指向创建它的构造函数的原型对象**。

对象 person1 有一个__proto__属性，创建它的构造函数是 Person，构造函数的原型对象是 Person.prototype ，所以：

```
person1.__proto__ == Person.prototype
```
请看下图

![《JavaScript 高级程序设计》的图 6-1](https://note.youdao.com/favicon.ico)

根据上面这个连接图，我们能得到：


```
Person.prototype.constructor == Person;
person1.__proto__ == Person.prototype;
person1.constructor == Person;
```

不过，要明确的真正重要的一点就是，这个连接存在于实例（person1）与构造函数（Person）的原型对象（Person.prototype）之间，而不是存在于实例（person1）与构造函数（Person）之间。

> 注意：因为绝大部分浏览器都支持__proto__属性，所以它才被加入了 ES6 里（ES5 部分浏览器也支持，但还不是标准）

> 总结2：
> 1. _proto_属性存在每个对象中
> 2. _proto_属性指向++该构造函数的++原型对象
> 3. prototype属性指向++自身的++原型对象
> 4. 都可以有_proto_属性，但是prototype属性只有函数对象才有

## 2 原型链

上述的总结1，总结2，说了种种关系，这些关系构成了原型链


![原型链图](https://upload-images.jianshu.io/upload_images/574093-c03529e3f0943633.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/570/format/webp)


1. （Functions）函数对象一列不仅仅有_proto_属性，还是有prototype属性。
   1.  _proto_指向构造函数的原型对象
   2. prototype指向自身的原型对象
   
2. （XX.prototype）原型对象那一列只有_proto_属性 
    1.  _proto_指向构造函数的原型对象
3. 实例那一列那一列只有_proto_属性 
    1.  _proto_指向构造函数的原型对象
    

## 3 实践


```
1. person1.__proto__ 是什么？
2. Person.__proto__ 是什么？
3. Person.prototype.__proto__ 是什么？
4. Object.__proto__ 是什么？
5. Object.prototype__proto__ 是什么？

```

答案：
第一题：
- 因为 person1.__proto__ === person1 的构造函数.prototype
- 因为 person1的构造函数 === Person
- 所以 person1.__proto__ === Person.prototype

第二题：
- 因为 Person.__proto__ === Person的构造函数.prototype
- 因为 Person的构造函数 === Function
- 所以 Person.__proto__ === Function.prototype

第三题：
- Person.prototype 是一个普通对象，我们无需关注它有哪些属性，只要记住它是一个普通对象。
- 因为一个普通对象的构造函数 === Object
- 所以 Person.prototype.__proto__ === Object.prototype

第四题，参照第二题，因为 Person 和 Object 一样都是构造函数

第五题：
- Object.prototype 对象也有proto属性，但它比较特殊，为 null 。
- 因为 null 处于原型链的顶端，这个只能记住。
Object.prototype.__proto__ === null

